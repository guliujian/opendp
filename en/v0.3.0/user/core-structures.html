
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>Core Structures &#8212; OpenDP</title>
  <script>
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=1e1de1a1873e13ef5536" rel="stylesheet">
<link href="../_static/styles/pydata-sphinx-theme.css?digest=1e1de1a1873e13ef5536" rel="stylesheet">

  
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/6.1.2/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2">

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css" />
    <link rel="stylesheet" type="text/css" href="../_static/css/custom.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=1e1de1a1873e13ef5536">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'user/core-structures';</script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Supporting Elements" href="supporting-elements.html" />
    <link rel="prev" title="Programming Framework" href="programming-framework.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="docsearch:language" content="en">
  </head>
  
  
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="180" data-default-mode="">

  
  <input type="checkbox" class="sidebar-toggle" name="__primary" id="__primary">
  <label class="overlay overlay-primary" for="__primary"></label>

  
  <input type="checkbox" class="sidebar-toggle" name="__secondary" id="__secondary">
  <label class="overlay overlay-secondary" for="__secondary"></label>

  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
      
<form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false">
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
    </div>
  </div>

  
  <nav class="bd-header navbar navbar-expand-lg bd-navbar" id="navbar-main"><div class="bd-header__inner bd-page-width">
  <label class="sidebar-toggle primary-toggle" for="__primary">
      <span class="fa-solid fa-bars"></span>
  </label>
  <div id="navbar-start">
    
    
  


<a class="navbar-brand logo" href="../index.html">

  
  
  
  
  
  
  

  
    <img src="../_static/opendp-logo.png" class="logo__image only-light" alt="Logo image">
    <img src="../_static/opendp-logo.png" class="logo__image only-dark" alt="Logo image">
  
  
</a>
    
  </div>

  
  <div class="col-lg-9 navbar-header-items">
    <div id="navbar-center" class="mr-auto">
      
      <div class="navbar-center-item">
        <nav class="navbar-nav">
    <p class="sidebar-header-items__title" role="heading" aria-level="1" aria-label="Site Navigation">
        Site Navigation
    </p>
    <ul id="navbar-main-elements" class="navbar-nav">
        
                <li class="nav-item">
                    <a class="nav-link" href="../quickstart.html">
                        Quickstart
                    </a>
                </li>
                

                <li class="nav-item current active">
                    <a class="nav-link" href="index.html">
                        User Guide
                    </a>
                </li>
                

                <li class="nav-item">
                    <a class="nav-link" href="../examples.html">
                        Examples
                    </a>
                </li>
                

                <li class="nav-item">
                    <a class="nav-link" href="../api/index.html">
                        API
                    </a>
                </li>
                

                <li class="nav-item">
                    <a class="nav-link" href="../more.html">
                        More…
                    </a>
                </li>
                
            <div class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    More
                </button>
                <div class="dropdown-menu">
                    
                <li class="nav-item">
                    <a class="nav-link" href="../contact.html">
                        Contact
                    </a>
                </li>
                
                </div>
            </div>
            
    </ul>
</nav>
      </div>
      
    </div>

    <div id="navbar-end">
      <div class="navbar-end-item navbar-end__search-button-container">
        
<button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" data-toggle="tooltip">
  <i class="fa-solid fa-magnifying-glass"></i>
</button>
      </div>
      
      <div class="navbar-end-item">
        <span class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" data-toggle="tooltip">
    <a class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></a>
    <a class="theme-switch" data-mode="dark"><i class="fa-regular fa-moon"></i></a>
    <a class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></a>
</span>
      </div>
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          <a href="https://github.com/opendp" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-toggle="tooltip"><span><i class="fa-brands fa-square-github"></i></span>
            <label class="sr-only">GitHub</label></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          <a href="https://twitter.com/opendp_org" title="Twitter" class="nav-link" rel="noopener" target="_blank" data-toggle="tooltip"><span><i class="fa-brands fa-square-twitter"></i></span>
            <label class="sr-only">Twitter</label></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          <a href="https://github.com/opendp/opendp/discussions" title="GitHub Discussions" class="nav-link" rel="noopener" target="_blank" data-toggle="tooltip"><span><i class="far fa-comments"></i></span>
            <label class="sr-only">GitHub Discussions</label></a>
        </li>
      </ul>
      </div>
      
    </div>
  </div>


  
  <div class="search-button-container--mobile">
<button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" data-toggle="tooltip">
  <i class="fa-solid fa-magnifying-glass"></i>
</button>
  </div>

  
  <label class="sidebar-toggle secondary-toggle" for="__secondary">
      <span class="fa-solid fa-outdent"></span>
  </label>
  

</div>
  </nav>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        
  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
      
      <div class="navbar-center-item">
        <nav class="navbar-nav">
    <p class="sidebar-header-items__title" role="heading" aria-level="1" aria-label="Site Navigation">
        Site Navigation
    </p>
    <ul id="navbar-main-elements" class="navbar-nav">
        
                <li class="nav-item">
                    <a class="nav-link" href="../quickstart.html">
                        Quickstart
                    </a>
                </li>
                

                <li class="nav-item current active">
                    <a class="nav-link" href="index.html">
                        User Guide
                    </a>
                </li>
                

                <li class="nav-item">
                    <a class="nav-link" href="../examples.html">
                        Examples
                    </a>
                </li>
                

                <li class="nav-item">
                    <a class="nav-link" href="../api/index.html">
                        API
                    </a>
                </li>
                

                <li class="nav-item">
                    <a class="nav-link" href="../more.html">
                        More…
                    </a>
                </li>
                
            <div class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    More
                </button>
                <div class="dropdown-menu">
                    
                <li class="nav-item">
                    <a class="nav-link" href="../contact.html">
                        Contact
                    </a>
                </li>
                
                </div>
            </div>
            
    </ul>
</nav>
      </div>
      
      </div>
    

    
    
    <div class="sidebar-header-items__end">
      
      <div class="navbar-end-item">
        <span class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" data-toggle="tooltip">
    <a class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></a>
    <a class="theme-switch" data-mode="dark"><i class="fa-regular fa-moon"></i></a>
    <a class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></a>
</span>
      </div>
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          <a href="https://github.com/opendp" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-toggle="tooltip"><span><i class="fa-brands fa-square-github"></i></span>
            <label class="sr-only">GitHub</label></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          <a href="https://twitter.com/opendp_org" title="Twitter" class="nav-link" rel="noopener" target="_blank" data-toggle="tooltip"><span><i class="fa-brands fa-square-twitter"></i></span>
            <label class="sr-only">Twitter</label></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          <a href="https://github.com/opendp/opendp/discussions" title="GitHub Discussions" class="nav-link" rel="noopener" target="_blank" data-toggle="tooltip"><span><i class="far fa-comments"></i></span>
            <label class="sr-only">GitHub Discussions</label></a>
        </li>
      </ul>
      </div>
      
    </div>
    
  </div>

  
  <div class="sidebar-start-items sidebar-primary__section">
    <div class="sidebar-start-items__item">
<form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false">
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
    </div>
    <div class="sidebar-start-items__item"><nav class="bd-links" id="bd-docs-nav" aria-label="Section navigation">
  <p class="bd-links__title" role="heading" aria-level="1">
    Section Navigation
  </p>
  <div class="bd-toc-item navbar-nav">
    <ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="limitations.html">Limitations</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting-started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="programming-framework.html">Programming Framework</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Core Structures</a></li>
<li class="toctree-l1"><a class="reference internal" href="supporting-elements.html">Supporting Elements</a></li>
<li class="toctree-l1"><a class="reference internal" href="combinator-constructors.html">Combinator Constructors</a></li>
<li class="toctree-l1"><a class="reference internal" href="transformation-constructors.html">Transformation Constructors</a></li>
<li class="toctree-l1"><a class="reference internal" href="measurement-constructors.html">Measurement Constructors</a></li>
<li class="toctree-l1"><a class="reference internal" href="application-structure.html">Application Structure</a></li>
</ul>

  </div>
</nav>
    </div>
    <div class="sidebar-start-items__item">
<h6>Branches</h6>
<ul>
    <li><a href="../../latest/index.html" style="font-weight: normal">latest</a></li>
    <li><a href="../../stable/index.html" style="font-weight: normal">stable</a></li>
</ul>


<h6 id="releases_header">Releases
    <div id="releases_symbol" style="float:right"></div>
</h6>
<ul id="releases_content">
    <li><a href="../../v0.6.1/index.html" style="font-weight: normal">v0.6.1</a></li>
    <li><a href="../../v0.6.1-rc.1/index.html" style="font-weight: normal">v0.6.1-rc.1</a></li>
    <li><a href="../../v0.6.0/index.html" style="font-weight: normal">v0.6.0</a></li>
    <li><a href="../../v0.6.0-rc.7/index.html" style="font-weight: normal">v0.6.0-rc.7</a></li>
    <li><a href="../../v0.6.0-rc.6/index.html" style="font-weight: normal">v0.6.0-rc.6</a></li>
    <li><a href="../../v0.6.0-rc.5/index.html" style="font-weight: normal">v0.6.0-rc.5</a></li>
    <li><a href="../../v0.6.0-rc.4/index.html" style="font-weight: normal">v0.6.0-rc.4</a></li>
    <li><a href="../../v0.6.0-rc.3/index.html" style="font-weight: normal">v0.6.0-rc.3</a></li>
    <li><a href="../../v0.6.0-rc.2/index.html" style="font-weight: normal">v0.6.0-rc.2</a></li>
    <li><a href="../../v0.6.0-rc.1/index.html" style="font-weight: normal">v0.6.0-rc.1</a></li>
    <li><a href="../../v0.5.0/user/core-structures.html" style="font-weight: normal">v0.5.0</a></li>
    <li><a href="../../v0.5.0-rc.1/user/core-structures.html" style="font-weight: normal">v0.5.0-rc.1</a></li>
    <li><a href="../../v0.4.0/user/core-structures.html" style="font-weight: normal">v0.4.0</a></li>
    <li><a href="core-structures.html" style="font-weight: bold">v0.3.0</a></li>
    <li><a href="../../v0.2.4/user/core-structures.html" style="font-weight: normal">v0.2.4</a></li>
    <li><a href="../../v0.2.3/user/core-structures.html" style="font-weight: normal">v0.2.3</a></li>
    <li><a href="../../v0.2.2/user/core-structures.html" style="font-weight: normal">v0.2.2</a></li>
    <li><a href="../../v0.2.1/user/core-structures.html" style="font-weight: normal">v0.2.1</a></li>
    <li><a href="../../v0.2.0/user/core-structures.html" style="font-weight: normal">v0.2.0</a></li>
    <li><a href="../../v0.1.0/index.html" style="font-weight: normal">v0.1.0</a></li>
</ul>
<script>
    let expanded = !!JSON.parse(localStorage.getItem('expanded'));

    let releasesHeader = document.getElementById("releases_header");
    let releasesSymbol = document.getElementById("releases_symbol");
    let releasesContent = document.getElementById("releases_content");

    function setReleasesState() {
        localStorage.setItem("expanded", JSON.stringify(expanded))
        releasesContent.style.display = expanded ? "block" : "none";
        releasesSymbol.classList.add(expanded ? 'minus' : 'plus')
        releasesSymbol.classList.remove(expanded ? 'plus' : 'minus')
    }

    setReleasesState()
    releasesHeader.addEventListener("click", function() {
        expanded = !expanded;
        setReleasesState()
    })
</script>
<style>
    .plus {
        position: relative;
        width:20px;
        height:20px;
        background:#676767;
    }

    .plus:before,
    .plus:after {
        content: "";
        position:absolute;
        background:#fff;
    }

    .plus:before {
        left:50%;
        top:4px;
        bottom:4px;
        width:3px;
        transform:translateX(-50%);
    }

    .plus:after {
        top:50%;
        left:4px;
        right:4px;
        height:3px;
        transform:translateY(-50%);
    }



    .minus {
        position: relative;
        width:20px;
        height:20px;
        background:#676767;
    }

    .minus:before,
    .minus:after {
        content: "";
        position:absolute;
        background:#fff;
    }

    .minus:after {
        top:50%;
        left:4px;
        right:4px;
        height:3px;
        transform:translateY(-50%);
    }
</style>

    </div>
  </div>
  

  
  <div class="sidebar-end-items sidebar-primary__section">
    <div class="sidebar-end-items__item">
    </div>
  </div>

      </div>
      <main class="bd-main">
        
        
        <div class="bd-content">
          <div class="bd-article-container">
            
            <div class="bd-header-article">
                
            </div>
            
            
            <article class="bd-article" role="main">
              
  <section id="core-structures">
<span id="id1"></span><h1>Core Structures<a class="headerlink" href="#core-structures" title="Permalink to this heading">#</a></h1>
<p>OpenDP is focused on creating computations with specific privacy characteristics.
These computations are modeled with two core structures in OpenDP:
<a class="reference internal" href="../api/python/opendp.mod.html#opendp.mod.Transformation" title="opendp.mod.Transformation"><code class="xref py py-class docutils literal notranslate"><span class="pre">opendp.mod.Transformation</span></code></a> and <a class="reference internal" href="../api/python/opendp.mod.html#opendp.mod.Measurement" title="opendp.mod.Measurement"><code class="xref py py-class docutils literal notranslate"><span class="pre">opendp.mod.Measurement</span></code></a>.
These structures are in all OpenDP programs, regardless of the underlying algorithm or definition of privacy.
By modeling computations in this abstract way, we’re able to combine them in flexible arrangements and reason about the resulting programs.</p>
<p>A unifying perspective towards OpenDP is that OpenDP is a system for <cite>relating</cite>:</p>
<ol class="arabic simple">
<li><p>an upper bound on distance between neighboring function inputs (to)</p></li>
<li><p>an upper bound on distance between respective function outputs (or distributions)</p></li>
</ol>
<p>OpenDP naturally captures the definition of privacy via <a class="reference internal" href="supporting-elements.html#relations"><span class="std std-ref">relations</span></a>,
because the definition of privacy is an upper bound on distance between probability distributions.</p>
<p>Each measurement or transformation is a self-contained structure with a relation, function, and supporting proof.</p>
<section id="measurement">
<span id="id2"></span><h2>Measurement<a class="headerlink" href="#measurement" title="Permalink to this heading">#</a></h2>
<p>A <a class="reference internal" href="../api/python/opendp.mod.html#opendp.mod.Measurement" title="opendp.mod.Measurement"><code class="xref py py-class docutils literal notranslate"><span class="pre">Measurement</span></code></a> is a randomized mapping from datasets to outputs of an arbitrary type.
Lets say we have an arbitrary instance of a Measurement, called <code class="docutils literal notranslate"><span class="pre">meas</span></code>, and a code snippet <code class="docutils literal notranslate"><span class="pre">meas.check(d_in,</span> <span class="pre">d_out)</span></code>.
If the code snippet evaluates to True, then <code class="docutils literal notranslate"><span class="pre">meas</span></code> is <code class="docutils literal notranslate"><span class="pre">d_out</span></code>-DP on <code class="docutils literal notranslate"><span class="pre">d_in</span></code>-close inputs,
or equivalently “(<code class="docutils literal notranslate"><span class="pre">d_in</span></code>, <code class="docutils literal notranslate"><span class="pre">d_out</span></code>)-close”.
The code snippet simply checks the privacy relation that comes bundled inside <code class="docutils literal notranslate"><span class="pre">meas</span></code>.</p>
<p>The distances <code class="docutils literal notranslate"><span class="pre">d_in</span></code> and <code class="docutils literal notranslate"><span class="pre">d_out</span></code> are expressed in the units of the input metric and output measure.
Depending on the context, <code class="docutils literal notranslate"><span class="pre">d_in</span></code> could be a distance bound to neighboring datasets or a global sensitivity,
and <code class="docutils literal notranslate"><span class="pre">d_out</span></code> may be <code class="docutils literal notranslate"><span class="pre">epsilon</span></code>, <code class="docutils literal notranslate"><span class="pre">(epsilon,</span> <span class="pre">delta)</span></code>, or some other measure of privacy.
More information on distances is available <a class="reference internal" href="supporting-elements.html#distances"><span class="std std-ref">here</span></a>.</p>
<p>Each invocation of the measurement’s function (via <code class="docutils literal notranslate"><span class="pre">meas.invoke(data)</span></code> or <code class="docutils literal notranslate"><span class="pre">meas(data)</span></code>) is a differentially private release.
The privacy expenditure of each release is any <code class="docutils literal notranslate"><span class="pre">d_out</span></code> that makes the relation pass.</p>
<p>A measurement structure contains the following internal fields:</p>
<dl class="field-list simple">
<dt class="field-odd">input_domain<span class="colon">:</span></dt>
<dd class="field-odd"><p>A <a class="reference internal" href="supporting-elements.html#domains"><span class="std std-ref">domain</span></a> that describes the set of all possible input values for the function.</p>
</dd>
<dt class="field-even">output_domain<span class="colon">:</span></dt>
<dd class="field-even"><p>A <a class="reference internal" href="supporting-elements.html#domains"><span class="std std-ref">domain</span></a> that describes the set of all possible output values of the function.</p>
</dd>
<dt class="field-odd">function<span class="colon">:</span></dt>
<dd class="field-odd"><p>A <a class="reference internal" href="supporting-elements.html#functions"><span class="std std-ref">function</span></a> that computes a differentially-private release on private data.</p>
</dd>
<dt class="field-even">input_metric<span class="colon">:</span></dt>
<dd class="field-even"><p>A <a class="reference internal" href="supporting-elements.html#metrics"><span class="std std-ref">metric</span></a> used to compute distance between two members of the input domain.</p>
</dd>
<dt class="field-odd">output_measure<span class="colon">:</span></dt>
<dd class="field-odd"><p>A <a class="reference internal" href="supporting-elements.html#measures"><span class="std std-ref">measure</span></a> used to measure distance between two distributions in the output domain.</p>
</dd>
<dt class="field-even">privacy_relation<span class="colon">:</span></dt>
<dd class="field-even"><p>A <a class="reference internal" href="supporting-elements.html#relations"><span class="std std-ref">relation</span></a> that encapsulates the privacy characteristics of the function.</p>
</dd>
</dl>
<p>The framework quantifies output distance bounds on measurements with a measure, instead of a metric,
because measurements emit samples from a probability distribution,
and measures can be used to quantify differences between probability distributions.
This is the primary differentiating factor between measurements and transformations.</p>
</section>
<section id="transformation">
<span id="id3"></span><h2>Transformation<a class="headerlink" href="#transformation" title="Permalink to this heading">#</a></h2>
<p>A <a class="reference internal" href="../api/python/opendp.mod.html#opendp.mod.Transformation" title="opendp.mod.Transformation"><code class="xref py py-class docutils literal notranslate"><span class="pre">Transformation</span></code></a> is a (deterministic) mapping from datasets to datasets.
Transformations are used to preprocess and aggregate data before chaining with a measurement.</p>
<p>Similarly to <code class="docutils literal notranslate"><span class="pre">meas</span></code> above, let’s say we have an arbitrary instance of a Transformation, called <code class="docutils literal notranslate"><span class="pre">trans</span></code>,
and a code snippet <code class="docutils literal notranslate"><span class="pre">trans.check(d_in,</span> <span class="pre">d_out)</span></code>.
If the code snippet evaluates to True, then <code class="docutils literal notranslate"><span class="pre">trans</span></code> is <code class="docutils literal notranslate"><span class="pre">d_out</span></code>-close on <code class="docutils literal notranslate"><span class="pre">d_in</span></code>-close inputs,
or equivalently “(<code class="docutils literal notranslate"><span class="pre">d_in</span></code>, <code class="docutils literal notranslate"><span class="pre">d_out</span></code>)-close”.
The code snippet simply checks the stability relation that comes bundled inside <code class="docutils literal notranslate"><span class="pre">trans</span></code>.
In this context, the relation captures the stability of a transformation.</p>
<p>The distances <code class="docutils literal notranslate"><span class="pre">d_in</span></code> and <code class="docutils literal notranslate"><span class="pre">d_out</span></code> are expressed in the units of the input metric and output metric.
Depending on the context, <code class="docutils literal notranslate"><span class="pre">d_in</span></code> and <code class="docutils literal notranslate"><span class="pre">d_out</span></code> could be a distance bound to neighboring datasets or a global sensitivity.
More information on distances is available <a class="reference internal" href="supporting-elements.html#distances"><span class="std std-ref">here</span></a>.</p>
<p>Invoking the function (via <code class="docutils literal notranslate"><span class="pre">trans.invoke(data)</span></code> or <code class="docutils literal notranslate"><span class="pre">trans(data)</span></code>) transforms the data, but the output is not differentially private.
Transformations need to be <a class="reference internal" href="combinator-constructors.html#chaining"><span class="std std-ref">chained</span></a> with a measurement before they can be used to create a differentially-private release.</p>
<p>A transformation structure contains the following internal fields:</p>
<dl class="field-list simple">
<dt class="field-odd">input_domain<span class="colon">:</span></dt>
<dd class="field-odd"><p>A <a class="reference internal" href="supporting-elements.html#domains"><span class="std std-ref">domain</span></a> that describes the set of all possible input values for the function.</p>
</dd>
<dt class="field-even">output_domain<span class="colon">:</span></dt>
<dd class="field-even"><p>A <a class="reference internal" href="supporting-elements.html#domains"><span class="std std-ref">domain</span></a> that describes the set of all possible output values of the function.</p>
</dd>
<dt class="field-odd">function<span class="colon">:</span></dt>
<dd class="field-odd"><p>A <a class="reference internal" href="supporting-elements.html#functions"><span class="std std-ref">function</span></a> that transforms data.</p>
</dd>
<dt class="field-even">input_metric<span class="colon">:</span></dt>
<dd class="field-even"><p>A <a class="reference internal" href="supporting-elements.html#metrics"><span class="std std-ref">metric</span></a> used to compute distance between two members of the input domain.</p>
</dd>
<dt class="field-odd">output_metric<span class="colon">:</span></dt>
<dd class="field-odd"><p>A <a class="reference internal" href="supporting-elements.html#metrics"><span class="std std-ref">metric</span></a> used to measure distance between two members of the output domain.</p>
</dd>
<dt class="field-even">stability_relation<span class="colon">:</span></dt>
<dd class="field-even"><p>A <a class="reference internal" href="supporting-elements.html#relations"><span class="std std-ref">relation</span></a> that encapsulates the stability characteristics of the function.</p>
</dd>
</dl>
</section>
<section id="constructors-and-functions">
<span id="constructors"></span><h2>Constructors and Functions<a class="headerlink" href="#constructors-and-functions" title="Permalink to this heading">#</a></h2>
<p>In OpenDP, Measurements and Transformations are created by calling constructor functions.
The majority of the library’s interface consists of these constructors.</p>
<p>Because Measurements and Transformations are themselves like functions (they can be invoked on an input and return an output),
you can think of constructors as higher-order functions:
You call them to produce another function that you will then feed data.</p>
<p>There’s a few top-level constructor listings:</p>
<ul class="simple">
<li><p><a class="reference internal" href="combinator-constructors.html#combinator-constructors"><span class="std std-ref">Combinator Constructors</span></a></p></li>
<li><p><a class="reference internal" href="measurement-constructors.html#measurement-constructors"><span class="std std-ref">Measurement Constructors</span></a></p></li>
<li><p><a class="reference internal" href="transformation-constructors.html#transformation-constructors"><span class="std std-ref">Transformation Constructors</span></a></p></li>
</ul>
<p>In this simplified example with the <a class="reference internal" href="../api/python/opendp.meas.html#opendp.meas.make_base_geometric" title="opendp.meas.make_base_geometric"><code class="xref py py-func docutils literal notranslate"><span class="pre">opendp.meas.make_base_geometric()</span></code></a> constructor, we assume the data was properly preprocessed and aggregated such that the sensitivity (by absolute distance) is at most 1.</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">opendp.meas</span> <span class="kn">import</span> <span class="n">make_base_geometric</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># call the constructor to produce a measurement</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">base_geometric</span> <span class="o">=</span> <span class="n">make_base_geometric</span><span class="p">(</span><span class="n">scale</span><span class="o">=</span><span class="mf">1.0</span><span class="p">)</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># investigate the privacy relation</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">absolute_distance</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">epsilon</span> <span class="o">=</span> <span class="mf">1.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">base_geometric</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">d_in</span><span class="o">=</span><span class="n">absolute_distance</span><span class="p">,</span> <span class="n">d_out</span><span class="o">=</span><span class="n">epsilon</span><span class="p">)</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># feed some data/invoke the measurement as a function</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aggregated</span> <span class="o">=</span> <span class="mi">5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">release</span> <span class="o">=</span> <span class="n">base_geometric</span><span class="p">(</span><span class="n">aggregated</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>


            </article>
            
            
            
            <footer class="bd-footer-article">
                <!-- Previous / next buttons -->
<div class='prev-next-area'>
  <a class='left-prev' id="prev-link" href="programming-framework.html" title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
          <p class="prev-next-subtitle">previous</p>
          <p class="prev-next-title">Programming Framework</p>
      </div>
  </a>
  <a class='right-next' id="next-link" href="supporting-elements.html" title="next page">
  <div class="prev-next-info">
      <p class="prev-next-subtitle">next</p>
      <p class="prev-next-title">Supporting Elements</p>
  </div>
  <i class="fa-solid fa-angle-right"></i>
  </a>
</div>
            </footer>
            
          </div>
          
          
          
            <div class="bd-sidebar-secondary bd-toc">
              
<div class="toc-item">
  
<div class="tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
</div>
<nav id="bd-toc-nav" class="page-toc">
    <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#measurement">
   Measurement
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#transformation">
   Transformation
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#constructors-and-functions">
   Constructors and Functions
  </a>
 </li>
</ul>

</nav>
</div>

<div class="toc-item">
  
<div id="searchbox"></div>
</div>

<div class="toc-item">
  
</div>

<div class="toc-item">
  
<div class="tocsection sourcelink">
    <a href="../_sources/user/core-structures.rst.txt">
        <i class="fa-solid fa-file-lines"></i> Show Source
    </a>
</div>

</div>

            </div>
          
          
        </div>
        <footer class="bd-footer-content">
          <div class="bd-footer-content__inner">
            
          </div>
        </footer>
        
      </main>
    </div>
  </div>

  
    
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/pydata-sphinx-theme.js?digest=1e1de1a1873e13ef5536"></script>

  <footer class="bd-footer"><div class="bd-footer__inner container">
  
  <div class="footer-item">
    
<p class="copyright">

    &copy; Copyright 2022.<br>

</p>

  </div>
  
  <div class="footer-item">
    
<p class="sphinx-version">
Created using <a href="http://sphinx-doc.org/">Sphinx</a> 5.1.1.<br>
</p>

  </div>
  
</div>
  </footer>
  </body>
</html>